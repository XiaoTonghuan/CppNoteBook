## C语言中的字符串

1. c中没有string，只有char，因此所谓字符串就是char的数组。

```c++
char ch[12] = {'H', 'e' , 'l' , 'l','o',' ','W','o','r','l','d','\0'}; //为字符串
//为了简化输入C引入了""的方式简化初始化。
char ch1[12] = "Hello world"; //默认包含了\0。
//注意，{}的初始化方式是不允许越界的
char ch2[11] = {'H', 'e' , 'l' , 'l','o',' ','W','o','r','l','d'}
//这玩意不是字符串，仅仅是一个数组而已。
char ch3[] = {"HelloWorld"}; //[]里面可以啥也不写，便于偷懒，或者不知道字符串长度也能这样写。
```

2. c语言中的字符串拼接使用起来很麻烦，需要调用一些函数。

   1. strcpy() //这是赋值函数
   2. strcat() //这是拼接函数

   ```c++
   strcpy(ch1 , ch2); //表示将ch2赋值给ch1。
   strcat(ch1 , ch2 ); //表示将ch2追加到ch1后面。
   strcat( ch1 ,"dadadad");
   ```
   这几个函数在使用时存在着许多限制
   1. 目标字符串不能是常量。
   2. 目标字符串不能是指针，必须先开一个空间才能用（这点真是蠢爆了，充分暴露了C的缺点）

```c++
char *ch;
strcat(ch,"this is a C style string");  //这样写是错误的！！原因在于，你没有给ch这个字符串开空间
char ch[50] = "this is a ";
strcat(ch , "C style string");  //这才是正确的 ！copy函数同理
```

3. 获取目标字符串的长度

   使用strlen()的函数。

   ```c
   char* ch1 = " happy birthday to you";
   int len = strlen(ch1);
   ```


## C++中的字符串

1. c++里面有string,string可以直接作为变量名。

```c++
string name = "xiaotonghuan";
```

2. string 接收和字符数组同样的方式（数组下标）访问字符串中的单个字符。

```c++
string name = "xiaotonghuan";
cout<<name[2]<<endl;
```

3. 字符数组是不能相互赋值的，但字符串变量可以。

```c++
char nanme1[10],name2[10];
name1 = name2; //错误！
string name1,name2;
name1 = name2; //正确！
```

4. string让字符串的拼接变得更加容易

```C++
string s1,s2,s3;
s3 = s1+s2; //表示将s1和ss2拼接起来赋值到s3上面
s2+=s1;//表示将s1加到s3后面。
```

5. 字符串长度获取

```c++
string name ="xiaotonghuan ";
int len = name.size();
```

6. string的实质，string是一个类。

## 字符串常量拼接

第二个字符串的第一个字符会自动覆盖第一个字符串的\0字符。

```c++
cout<<"loijjjj";
cout<<"llllll"<<endl;
```

## 字符串的输入问题

1. cin的缺陷

cin将会读取空格或者回车来结束当前的输入因此会产生以下程序的问题

```c++
string day1,day2;
cout<<"What day is it today?\n";
cin>>day1;
cout<<"today is "<<day1<<endl;
cin>>day2;
cout<<"today is "<<day2<<endl;

//程序运行的结果如下
//What day is it today?
//10 15
//today is 10
//today is 15
//cin会通过读取空格来识别这个输入是否已经完成，同时会自动进行到下一个输入，而不是直接到输出，当你打入回车的时候才会结束所有的输入，执行下一条语句。这就造成了尴尬的问题，想输入的字符串中含有空格怎么办？
```

1. cin.getline

可以使用getline来读取一个字符串的内容，getline只会使用回车来结束输入，同时他将回车读入字符串，并将他转换成一个\0结束符。

```c++
char day1[10],day2[10];
cout<<"What day is it today?\n";
cin.getline(day1,10);
cout<<"today is "<<day1<<endl;
cin.getline(day2,10);
cout<<"today is "<<day2<<endl;
```

注意事项

​			1. cin.getline(字符数组名称,字符数组长度)

​			2. cin.getline在达到读取字符的最大数时自动停止，回车时手动停止，没填满的字符使用\0来补足。

 		   3. cin.getline只面向字符数组，对string类型的变量不适用。

3. cin.get
   1. cin.get()也是和cin.getline一样只通过回车来识别输入的结束，但不同的是，cin.get不会读入回车，回车会被留在队列中，等待下一个输入。
   2. 可以通过再使用一个cin.get()，（括号中不加参数）的方式来读取被留在队列中的回车键，从而不影响接下来的输入。（这实际上是一个函数的重载）
   3. 由于cin.get()的返回值类型为cin，符合链式编程的条件从而可以使用cin.get().get()的方式进行一次性输入。
   4. 与cin.getline()相同()中要填字符数组的名称和长度。
   5. 只适用于字符数组，不适用于string



```c++
char day1[10],day2[10];
cout<<"What day is it today?\n";
cin.get(day1,10).get();
cout<<"today is "<<day1<<endl;
cin.get(day2,10);
cout<<"today is "<<day2<<endl;
```

4. 读取空行时的情况

   1. cin.get()会立即结束所有读取。（包括该语句下面的所有cin.get()的读取）（这被称为输入阻断）

   2. cin.getline()只会结束该行的读取，继续执行下一条语句。

```c++
//cin.getline的运行结果如下
//What day is it today?
//
//today is
//10 25
//today is 10 25
//cin.get()运行结果如下
//What day is it today?
//
//today is
//today is
//
```

5. string 如何解决cin带来的问题

使用getline(cin,变量名)来解决

```c++
string name;
getline(cin,name);
```

## 注意事项

1. “ ” 实际上存储的是地址！不是值。因此``str == "xiaotonghuan"``的含义并不是，str储存的字符串和“xiaotonghuan”相等，而是在判断他们的地址是否相同。
2. 比较字符串中的储存的东西是否一样，应当使用函数strcmp()来判断（不能用来判断string类型！），当储存的值相同时，将会返回0，当前一个字符串的首字母地址靠前时，返回-1，否则返回1。
3. 

```c++
#include<iostream>
using  namespace std;
int main()
{
	char* xiu = "xiu";
	char* p = xiu;
	cout<<*p++<<" "<<*p++<<*p++;
}
//输出结果是反着的，是因为编码的问题
```

