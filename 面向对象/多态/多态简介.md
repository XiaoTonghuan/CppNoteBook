# 多态简介
静态多态：运算符重载，函数重载
动态多态：虚函数和派生类实现动态多态
静态多态：地址早绑定
动态多态：地址晚绑定

# 动态多态简介
1. C++中允许子类对象传入父类（父类指针指向子类对象）
2. 继承关系
3. 子类重写父类的虚函数(不是重载！重写是除了函数实现之外完全相同)
4. 子类可以写virtual，不写也行。
5. 父类的**引用/指针**指向子类传入的对象
```c++
#include <iostream>
using namespace std;
class Animal //一个父类
{
public: 
    void dospeak()
    {
        cout << "动物在说话" << endl;
    }
};
class cat : public Animal //一个子类
{
public:
    void dospeak() //和父类同名的函数
    {
        cout << "小猫在说话" << endl;
    }
};

void dospeak(Animal & animal)
{
    animal.dospeak(); //父类调用，子类传入，会发生什么？？
}
void test01()
{
    cat c1;
    dospeak(c1);
}
int main()
{
    test01();
}
```

```c++
virtual void dospeak()
    {
        cout << "动物在说话" << endl;
    }
//处理方式，将父类中函数改为虚函数即可。
```
# 多态的深入剖析
1. 虚函数之内有，虚函数指针，指向虚函数表，虚函数表存放父类函数入口地址。
2. 子类继承父类相同的虚函数。
3. 发生重写时，子类虚函数表覆盖父类虚函数表，虚函数表存放子类函数入口地址。
4. 子类继承了父类的虚函数指针，但是指向了不同的虚函数表，因此发生了父类引用指向子类函数的情况。

# 多态的优点
1. 代码组织结构清晰。
2. 可读性强。
3. 便于后期的维护。

# Note

1. 动态多态必须使用指针